---
name: response-guidelines
description: 通用 AI 模型响应规则, 指导助理在返回或修改代码时添加规范注释、保留原注释并提供影响说明。
metadata:
  applyTo: "**"
  scope:
    languages: ["*"]
    modify: ["comments_only"]
  references:
    - references/golang.md
    - references/vue.md
---

# Skill Instructions

说明：本 skill 为通用 AI 模型响应规则, 指导助理在返回代码或修改代码时如何以一致的风格添加注释、保留原注释并提供必要的影响说明。以下规则为必须遵守的准则, 适用于所有编程语言。

## 1. 通用函数注释要求

- 所有新增或修改后的函数、方法、组件, 必须包含规范的文档注释, 说明其目的、主要参数含义、返回值与可能的错误。
- 注释应简洁、明确, 放在声明之前, 遵循目标语言的文档注释惯例。
- 复杂逻辑块建议添加简短注释说明其作用和关键步骤。

## 2. 注释风格与标点

- 新增注释内容必须使用中文。
- 注释中的标点符号必须使用英文标点, 例如 `,` `;` `.` `:` `()` 等。
- 逗号与分号后必须保留一个空格, 例如 `参数 a, 表示...`。
- 注释中必要的英文术语应保持英文, 例如 API, HTTP, JSON, 英文前后需要空格，如 `调用 API 接口`。

## 3. 保留原注释原则

- 任何对现有代码的修改不得删除原有注释。
- 若需补充说明, 应在原注释下方追加新注释。
- 若原注释有误, 则在其下方注明修正说明并给出正确内容, 使用明显标记（如 `修正：...` 或 `NOTE:`）。

## 4. 修改范围与限制

- 默认仅对注释或注释附近的短说明进行修改, 不对业务逻辑做重大重构, 除非用户明确要求。
- 若需要修改实现以修复注释中描述的错误, 必须在响应中明确列出行为变更与回滚建议。

## 5. 响应模版

输出应包含三部分：

1. **原注释**：逐字或以注释块形式复现原有注释。
2. **新增注释**：以中文说明参数、返回值与错误, 遵循目标语言惯例。
3. **影响说明**：若无行为变更则写明 "无行为变更"; 若有变更则明确列出风险与回滚建议。

## 6. 校验与测试建议

- 推荐在提交前运行对应语言的静态检查工具以确保注释不会引入语法错误或违反 linters。
- 可在 CI 中添加步骤检测公共函数/组件是否具有注释（仅建议, 不强制）。

## 7. 语言特定规则

针对不同编程语言的注释风格与示例, 请参阅 `references/` 目录下的对应文件：

| 语言   | 参考文件                  |
| ------ | ------------------------- |
| Go     | `references/golang.md`    |
| Vue    | `references/vue.md`       |

